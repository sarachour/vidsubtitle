
var PreviewController = function(){
   this.init = function(){
    this.video = new YoutubeVideo("player1");
    this.exp = new SubtitleExporter();
   }
   this.load_subtitles = function(){
      var dat = JSON.parse($("#output",$("#dev")).val());
      var str = this.exp.to_vtt(dat);
      var fn = this.exp.to_file(str);
      console.log(fn);
      console.log(str);
   }

   this.init();
}
$(document).ready(function(){
   var pc = new PreviewController();
   $("#output",$("#dev"))
   .val('{"data":[{"start":0.201194,"end":4.450271,"length":4.249077,"id":42,"type":"silence"},{"start":9.121914,"end":9.284447,"length":0.16253299999999982,"id":43,"type":"break"},{"start":11.193029,"end":11.355562,"length":0.1625330000000016,"id":44,"type":"break"},{"start":14.123247,"end":14.308999,"length":0.1857520000000008,"id":45,"type":"break"},{"start":17.750035,"end":17.889349,"length":0.13931399999999883,"id":46,"type":"break"},{"start":21.898459,"end":22.060992,"length":0.16253299999999982,"id":47,"type":"break"},{"start":27.243453,"end":27.382767,"length":0.13931400000000238,"id":48,"type":"break"},{"start":31.275782,"end":31.415096,"length":0.13931399999999883,"id":50,"type":"break"},{"start":33.154153,"end":33.247029,"length":0.09287599999999685,"id":51,"type":"break"},{"start":34.921165,"end":35.03726,"length":0.11609500000000139,"id":49,"type":"break"},{"start":38.576582,"end":38.739115,"length":0.16253299999999626,"id":52,"type":"break"},{"start":42.353502,"end":42.516035,"length":0.16253300000000337,"id":53,"type":"break"},{"start":45.910633,"end":46.073166,"length":0.16253300000000337,"id":54,"type":"break"},{"start":49.850086,"end":50.012619,"length":0.16253300000000337,"id":55,"type":"break"},{"start":55.984526,"end":56.147059,"length":0.16253299999999626,"id":56,"type":"break"},{"start":58.641525,"end":58.804058,"length":0.16253299999999626,"id":57,"type":"break"},{"start":63.23111,"end":63.393643,"length":0.16253299999999626,"id":58,"type":"break"},{"start":69.272674,"end":69.411988,"length":0.13931399999999883,"id":59,"type":"break"},{"start":71.98152,"end":72.120834,"length":0.13931399999999883,"id":60,"type":"break"},{"start":74.295645,"end":74.434959,"length":0.13931400000001304,"id":62,"type":"break"},{"start":77.499865,"end":77.61596,"length":0.11609500000000139,"id":61,"type":"break"},{"start":80.208712,"end":80.348026,"length":0.13931399999999883,"id":64,"type":"break"},{"start":82.414516,"end":82.460954,"length":0.04643799999999487,"id":63,"type":"break"},{"start":83.892756,"end":84.078508,"length":0.1857519999999937,"id":65,"type":"break"},{"start":88.685903,"end":88.825217,"length":0.13931399999999883,"id":66,"type":"break"},{"start":89.023245,"end":89.023245,"length":0,"id":67,"type":"break"},{"start":93.694888,"end":93.88064,"length":0.1857519999999937,"id":68,"type":"break"},{"start":96.76442,"end":96.880515,"length":0.11609500000000139,"id":69,"type":"break"},{"start":100.530522,"end":100.693055,"length":0.16253299999999626,"id":70,"type":"break"},{"start":104.191347,"end":104.35388,"length":0.16253300000001047,"id":71,"type":"break"},{"start":107.387793,"end":107.503888,"length":0.11609500000000139,"id":73,"type":"break"},{"start":109.27394,"end":109.413254,"length":0.13931399999999883,"id":72,"type":"break"},{"start":113.027641,"end":113.166955,"length":0.13931399999999883,"id":74,"type":"break"},{"start":116.224086,"end":116.386619,"length":0.16253299999999626,"id":75,"type":"break"},{"start":126.64164,"end":126.757735,"length":0.11609500000000139,"id":76,"type":"break"},{"start":132.218824,"end":132.334919,"length":0.11609500000000139,"id":77,"type":"break"},{"start":134.98651,"end":135.125824,"length":0.13931399999998462,"id":78,"type":"break"},{"start":138.327678,"end":138.490211,"length":0.16253299999999626,"id":80,"type":"break"},{"start":141.108549,"end":141.224644,"length":0.11609500000000139,"id":79,"type":"break"},{"start":145.680324,"end":145.796419,"length":0.11609499999997297,"id":81,"type":"break"},{"start":148.15698,"end":148.296294,"length":0.13931399999998462,"id":82,"type":"break"},{"start":150.553161,"end":150.692475,"length":0.13931400000001304,"id":83,"type":"break"},{"start":155.003432,"end":155.119527,"length":0.11609500000000139,"id":84,"type":"break"},{"start":158.780352,"end":158.942885,"length":0.16253299999999626,"id":85,"type":"break"},{"start":162.441177,"end":162.60371,"length":0.16253299999999626,"id":87,"type":"break"},{"start":165.518486,"end":165.6578,"length":0.13931400000001304,"id":86,"type":"break"},{"start":169.156094,"end":169.295408,"length":0.13931400000001304,"id":88,"type":"break"},{"start":174.524308,"end":174.640403,"length":0.11609500000000139,"id":89,"type":"break"},{"start":178.092257,"end":178.25479,"length":0.16253300000002469,"id":90,"type":"break"},{"start":182.787119,"end":182.879995,"length":0.09287600000001817,"id":91,"type":"break"},{"start":187.528419,"end":187.644514,"length":0.11609499999997297,"id":92,"type":"break"},{"start":193.557582,"end":193.673677,"length":0.11609500000000139,"id":93,"type":"break"},{"start":196.057457,"end":196.243209,"length":0.1857520000000079,"id":94,"type":"break"},{"start":202.58662,"end":202.749153,"length":0.16253299999999626,"id":95,"type":"break"},{"start":207.060111,"end":207.199425,"length":0.13931399999998462,"id":96,"type":"break"},{"start":209.745738,"end":209.885052,"length":0.13931400000001304,"id":97,"type":"break"},{"start":213.089274,"end":213.228588,"length":0.13931400000001304,"id":98,"type":"break"},{"start":217.771735,"end":217.88783,"length":0.11609500000000139,"id":99,"type":"break"},{"start":223.348919,"end":223.488233,"length":0.13931400000001304,"id":100,"type":"break"},{"start":229.018979,"end":229.158293,"length":0.13931399999998462,"id":101,"type":"break"},{"start":231.890358,"end":232.052891,"length":0.16253299999999626,"id":102,"type":"break"},{"start":235.945906,"end":236.08522,"length":0.13931399999998462,"id":103,"type":"break"},{"start":238.051058,"end":238.190372,"length":0.13931399999998462,"id":105,"type":"break"},{"start":241.173222,"end":241.289317,"length":0.11609500000000139,"id":104,"type":"break"},{"start":242.65687,"end":242.772965,"length":0.11609500000000139,"id":107,"type":"break"},{"start":244.488803,"end":244.628117,"length":0.13931400000001304,"id":108,"type":"break"},{"start":246.725604,"end":246.81848,"length":0.09287599999998974,"id":106,"type":"break"},{"start":248.784319,"end":248.946852,"length":0.16253299999999626,"id":110,"type":"break"},{"start":250.861627,"end":250.977722,"length":0.11609500000000139,"id":109,"type":"break"},{"start":255.636964,"end":255.753059,"length":0.11609500000000139,"id":111,"type":"break"},{"start":259.937103,"end":260.076417,"length":0.13931400000001304,"id":112,"type":"break"},{"start":265.178403,"end":265.317717,"length":0.13931400000001304,"id":113,"type":"break"},{"start":266.876431,"end":266.992526,"length":0.11609499999997297,"id":114,"type":"break"},{"start":270.124723,"end":270.264037,"length":0.1393139999999562,"id":115,"type":"break"},{"start":274.157052,"end":274.249928,"length":0.09287599999998974,"id":116,"type":"break"},{"start":278.096505,"end":278.235819,"length":0.13931400000001304,"id":118,"type":"break"},{"start":280.545581,"end":280.708114,"length":0.16253299999999626,"id":30,"type":"break"},{"start":282.825667,"end":282.964981,"length":0.13931400000001304,"id":31,"type":"break"},{"start":284.727257,"end":284.843352,"length":0.11609499999997297,"id":32,"type":"break"},{"start":286.55919,"end":286.721723,"length":0.16253299999999626,"id":33,"type":"break"},{"start":288.733999,"end":288.873313,"length":0.13931400000001304,"id":34,"type":"break"},{"start":290.387957,"end":290.527271,"length":0.13931400000001304,"id":35,"type":"break"},{"start":292.498518,"end":292.614613,"length":0.11609500000002981,"id":36,"type":"break"},{"start":293.67491,"end":293.814224,"length":0.13931400000001304,"id":37,"type":"break"},{"start":295.710405,"end":295.849719,"length":0.13931400000001304,"id":38,"type":"break"},{"start":298.135326,"end":298.251421,"length":0.11609499999997297,"id":39,"type":"break"},{"start":301.217259,"end":301.310135,"length":0.09287599999998974,"id":40,"type":"break"},{"start":304.99418,"end":305.087056,"length":0.09287600000004659,"id":41,"type":"break"}],"url":"http://127.0.0.1:8080/media/vid1.mp4"}');
   pc.load_subtitles();
})